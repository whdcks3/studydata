## 1. 예외(Exception)란.
예외(Exception)은 프로그램 실행 중 발생하는 **비정상적인 상황**으로, 프로그램의 정상적인 흐름을 방해한다.
Java에서는 잘못된 사용자 입력, 외부 환경의 문제, 프로그래밍 로직의 실수 등 다양한 이유로 예외가 발생하며, 이러한 상황에 적절히 대처하지 못하면 프로그램이 비정상적으로 종료된다.

Java는 예외 발생 시 이를 관리하고 처리할 수 있는 **예외 처리(Exception Handling)** 메커니즘을 제공하며, 이를 통해 프로그램의 안정성과 신뢰성을 유지할 수 있다.
Java에서 예외는 객체로 표현되며, 발생한 예외는 **예외 객체(Exception Object)** 로 생성되어 처리된다. 이 예외 객체는 문제의 세부 정보와 함께 프로그램 흐름을 예외 처리 코드로 전달한다.

---------------------
## 2. 예외(Exception)와 오류(Error)의 차이
Java에서는 프로그램 실행 중 발생하는 문제를 **Throwable** 클래스를 통해 관리하며, 이를 두 가지 주요 범주로 나눈다 : Error와 Eception

+ **Error**</br>
  Error는 시스템 수준에서 발생하는 심각한 문제로, 주로 JVM(Java Virtual Machine) 자체의 상태에 의해 발생한다.
  이러한 오류는 프로그램이 정상적으로 실행될 수 없음을 나타내며, 개발자가 이를 직접 처리하거나 복구하는 것이 불가능하다.</br>
  
  **Error의 주요 특징**</br>
  + 개발자가 처리하지 않고 시스템에서 자동으로 처리되거나 프로그램이 종료된다.
  + 시스템 자원 부족, 스택 메모리 초과 등과 관련된 문제가 대부분이다.
  + 예 : ```OutOfMemoryError```,```StackOverflowError```,```InternalError```

+ **Exception**</br>
  Exception은 프로그램 실행 중 발생하는 문제로, 개발자가 적절히 처리하여 복구할 수 있다.
  주로 외부 환경과의 상호작용 문제나 잘못된 코드로 인해 발생한다.

  **Exception의 주요 특징**</br>
  + 발생한 문제를 처리할 수 있는 코드를 작성하여 프로그램의 비정상 종료를 방지할 수 있다.
  + 예 : 잘못된 사용자 입력, 파일 접근 실패, 네트워크 연결 실패
  + ```IOException```,```NullPoniterException```,```ArithmeticException```

------------------------
## 3. Java의 예외 클래스 계층 구조
Java에서 모든 예외와 오류는 Throwable 클래스를 기반으로 하며, 이 클래스는 Error와 Exception으로 나뉜다.
Java의 예외 계층 구조는 체계적으로 설계되어 있어, 예외가 발생했을 때 이를 식별하고 처리하는 데 도움을 준다.
```java
Throwable
├── Error
│   ├── OutOfMemoryError
│   ├── StackOverflowError
│   └── 기타 시스템 오류
└── Exception
    ├── IOException (Checked Exception)
    ├── SQLException (Checked Exception)
    ├── RuntimeException (Unchecked Exception)
        ├── ArithmeticException
        ├── NullPointerException
        ├── IndexOutOfBoundsException
        └── 기타 런타임 예외
```
#### 주요 계층 구조 설명
**Throwable**<br>
Java의 모든 예외와 오류의 최상위 클래스</br>
두 가지 하위 클래스인 Error와 Exception을 통해 비정상적인 상황을 구분한다.

**Error**<br>
+ 치명적인 시스템 오류로, 프로그램 실행을 중단시키는 문제를 나타낸다.</br>
+ JVM에서 발생하는 문제로, 주로 메모리 부족이나 시스템 자원 고갈로 발생한다.<br>
+ 개발자가 직접 처리하는 것이 불가능하며, 프로그램 종료로 이어질 가능성이 높다<br>
+ 주요 하위 클래스 : ```OutOfMemoryError```,```StackOverflowError```

**Exception**<br>
+ 프로그램 실행 중 발생하는 문제로, 개발자가 처리하여 복구할 수 있다.<br>
+ Exception클래스는 다시 두 가지 유형으로 나뉜다.<br>

+ **Checked Exception**
  + 컴파일러가 반드시 처리하도록 강제하는 예외<br>
  + 주로 외부 환경과의 상호작용에서 발생<br>
  예 : ```IOException```,```SQLException```

+ **Unchecked Exception**
  + 런타임에 발생하며, 컴파일러가 처리 여부를 강제하지 않는 예외<br>
  + 주로 개발자의 실수나 잘못된 코드로 인해 발생<br>
  예 : ```NullPointerException```,```ArithmeticException```,```IndexOutOfBoundsException```

------------------
## 4. 예외 처리 메커니즘의 작동 원리

Java는 발생한 예외를 감지하고 처리하기 위한 체계적인 메커니즘을 제공한다.<br>
예외 처리 메커니즘은 프로그램의 안정성을 유지하고, 예외가 발생했을 때 적절히 대처할 수 있는 구조를 지원한다.

**예외 발생**<br>

프로그램 실행 중 문제가 발생하면 Java는 해당 문제를 나타내는 **예외 객체(Exception Object)** 를 생성한다.<br>
이 객체는 예외의 종류, 발생 위치, 호출 경로와 같은 정보를 포함하며, 프로그램 흐름을 예외 처리 코드로 전달한다.

**예외 전파(Exception Propagation)** <br>

발생한 예외가 현재 메서드 내에서 처리되지 않으면, 예외는 호출된 메서드들을 거슬러 올라가며 처리할 곳을 찾는다.<br>
모든 메서드가 예외를 처리하지 않으면, 예외는 최종적으로 JVM에 의해 처리되며, 프로그램이 종료된다.

**예외 처리 코드 실행** <br>

예외가 발생하면 **try-catch**블록을 사용해 예외를 처리하며, 이를 통해 프로그램의 정상 흐름을 유지할 수 있다.

**자원 정리** <br>

예외 발생 여부와 관계없이 항상 실행되는 **finally 블록** 을 사용하여, 파일, 네트워크 소켓 등 자원을 안전하게 해제하거나 정리할 수 있다.

------------------

## 5. 예외 처리의 필요성

**프로그램 안정성 보장**<br>

예외 처리 메커니즘을 통해 예상치 못한 상황에서도 프로그램이 중단되지 않고 정상적으로 동작할 수 있도록 한다.

**비정상 종료 방지**

예외를 처리하지 않으면 프로그램은 즉시 종료되며, 데이터 손실, 작업 중단 등의 문제가 발생할 수 있다.

**사용자 경험 개선**

예외가 발생했을 때 적절한 안내 메시지를 제공함으로써 사용자에게 친절하고 신뢰할 수 있는 경험을 제공한다.

**디버깅 및 유지보수 용이성**

예외 발생 시 Java는 **스택 트레이스(Stack Trace)** 를 제공하여, 예외의 원인과 발생 위치를 빠르게 파악할 수 있도록 돕는다.

**효율적인 자원 관리**

파일, 데이터베이스, 네트워크 소켓 등 자원을 안전하게 해제하거나 정리할 수 있다.

-----------------------------

## 6. 주요 예외 처리 키워드와 구문

#### 1. try-catch 블록
```try-catch```블록은 Java의 예외 처리에서 가장 기본적인 구조로, 예외 발생 가능성이 있는 코드와 예외 처리 코드를 명확히 분리하여 작성한다<br>
이 구조를 통해 프로그램이 예상치 못한 상황에서도 비정상적으로 종료되지 않고, 안정적인 상태를 유지할 수 있다.<br>
Java는 이 구조를 사용해 정상적인 흐름을 방해하지 않는 방식으로 예외를 처리한다.

-------------------
#### try블록
try블록은 예외가 발생할 가능성이 있는 코드를 작성하는 영역이다.<br>
try 블록 내부의 코드를 실행하다가 예외가 발생하면 나머지 코드 실행은 중단된다. 발생한 예외의 타입에 따라 적절한 catch블록으로 제어가 이동된다.

##### 주요 특징
+ 예외 발생 시 실행 중단
  + try블록 내부에서 예외가 발생하면, 이후의 코드는 실행되지 않는다.
  + 발생한 예외는 즉시 catch 블록으로 전파된다.
+ 예외가 발생하지 않을 경우
  + try블록의 모든 코드가 정상적으로 실행되며, catch블록은 건너뛴다.
+ 예외 감지
  + try블록은 예외를 감지하고 해당 예외를 처리하는 catch블록으로 흐름을 전달하는 역할을 한다.

##### 사용 시 주의사항
+ 필수 블록 : try블록은 catch 또는 finally블록과 함께 반드시 사용되어야 한다.
+ 구조적 예외 처리 : try블록 내에 예외가 발생할 가능성이 있는 코드를 집중적으로 작성한다.
+ 과도한 코드 작성 지양 : try블록에는 예외 발생 가능성이 없는 코드까지 포함하지 않도록 한다.

---------------------

#### catch 블록
catch블록은 try블록에서 발생한 예외를 처리하는 코드가 작성되는 영역이다.<br>
catch블록은 발생한 예외의 타입(Exception 클래스)에 따라 실행 여부가 결정된다.

##### 주요 특징
+ 특정 예외 처리
  + catch블록은 특정한 Exception클래스 타입에 대해 작성되며, 발생한 예외가 해당 타입에 속할 경우 실행된다.
+ 다중 catch 블록 지원
  + 하나의 try블록에 대해 여러 개의 catch블록을 작성할 수 있다.
  + 발생한 예외는 첫 번째로 일치하는 catch블록에서 처리된다.
+ 예외 객체 활용
  + catch블록에서는 발생한 예외의 세부 정보를 확인할 수 있는 예외 객체를 제공한다.
    ```getMessage()``` : 예외의 원인에 대한 메시지를 반환
    ```printStackTacre()``` : 예외 발생 위치와 호출 스택 정보를 출력
+ 정상 흐름 복구
  + 예외가 처리된 후 프로그램은 catch블록 이후의 코드부터 실행을 계속한다.
 
##### 사용 시 주의사항
catch 블록의 순서<br>
 + 구체적인 예외 클래스에서 더 일반적인 예외 클래스 순서로 작성해야 한다.
 + 상위 클래스가 먼저 작성되면 하위 클래스의 catch블록은 절대 실행되지 않아 **컴파일 에러**가 발생한다.

```java
try {
    // 예외 발생 가능 코드
} catch (Exception e) {  // 상위 클래스
    // ...
} catch (IOException e) {  // 하위 클래스
    // 컴파일 에러 발생
}
```
빈 catch 블록 작성 금지
 + 예외를 무시하거나 빈 catch블록으로 작성하면 디버깅과 유지보수가 어려워진다. 최소한 로그를 기록하거나, 사용자에게 오류 메시지를 제공해야 한다.

-------------------------

#### 여러 개의 catch 블록
java에서는 하나의 try 블록에 대해 여러 catch 블록을 작성하여 예외를 개별적으로 처리할 수 있다.

##### 특징
+ 순차적 검사
  + catch 블록은 위에서 아래로 순차적으로 검사되며, 처음으로 일치하는 예외 타입의 블록이 실행된다.
  + 일치하는 catch블록이 실행되면, 이후의 catch블록은 건너뛰어진다.
+ 구체적인 처리 기능
  + 각 예외에 대해 서로 다른 처리 코드를 작성할 수 있다.

##### 기본문법
```java
try {
    // 예외 발생 가능 코드
} catch (IOException e) {
    // IOException 처리 코드
} catch (SQLException e) {
    // SQLException 처리 코드
} catch (Exception e) {
    // 일반적인 예외 처리 코드
}
```
##### 주의사항
가장 구체적인 예외부터 작성해야 한다. catch블록의 순서가 잘못되면 컴파일 에러가 발생한다.

--------------------------
#### 멀티캐치 문법 (Java 7 이상)
Java에서는 멀티캐치(Multi-Catch)문법이 도입되어, 여러 예외를 하나의 catch블록에서 처리할 수 있다.
이 경우 ```|```연산자를 사용해 여러 예외를 지정한다.

##### 사용 목적
동일한 처리 로직이 필요한 여러 예외를 하나의 catch블록에서 처리<br>
코드 중복을 줄이고, 가독성과 유지보수성을 향상

##### 기본 문법
```java
try {
    // 예외 발생 가능 코드
} catch (IOException | SQLException e) {
    // 두 예외를 하나의 블록에서 처리
    System.out.println("예외 발생: " + e.getMessage());
}
```

##### 주의사항
상속 관계가 없는 예외만 사용 가능
 + 멀티캐치 블록에서 상속 관계에 있는 예외를 함께 사용할 수 없다.
   예 : ```IOException```과 ```Exception```은 함께 사용할 수 없다.
 + 예외 객체는 암묵적으로 final
   멀티캐치 블록에서 사용되는 예외 객체는 final로 간주되며, 수정할 수 없다.

------------------

## throws 키워드
```throws``` 키워드는 Java 메서드 선언부에서 사용되며, 해당 메서드에서 발생할 수 있는 **예외를 호출자에게 전달**하는 역할을 한다.<br>
이는 예외 처리의 책임을 메서드 내부에서 호출자로 전가함으로써 코드의 가독성과 모듈화를 돕는다.<br>
특히, Checked Exception을 처리하는 데 필수적이며, 예외의 발생 가능성을 명시적으로 선언하여 호출자가 이를 예상하고 적절히 처리할 수 있도록 한다.

---------------------
#### throws 키워드의 기본 기능
+ 예외를 호출자에게 위임
  + 메서드에서 발생할 수 있는 예외를 직접 처리하지 않고, 호출자가 처리하도록 위임할 수 있다.
  + 호출자는 해당 예외를 try-catch로 처리하거나, 다시 throws 키워드로 상위 호출자로 위임해야 한다.
  + 이를 통해 예외 처리가 필요한 코드와 실제 처리 로직을 분리할 수 있다.
+ Checked Exception 강제 선언
  + Checked Exception(컴파일 타임 예외)는 반드시 try-catch 처리하거나 throws로 선언해야 한다.
  + Checked Exception을 처리하지 않으면 컴파일 에러가 발생한다.
  + 예외 발생 가능성을 명시적으로 나타냄으로써, 예외 처리에 대한 명확한 책임을 정의한다.
+ Uncheked Exception은 throws 선언 없이도 가능
  + RuntimeException을 상속받는 Unchecked Exception(런타임 예외)는 throws키워드로 선언하지 않아도 호출자에게 자동으로 전파된다.
  + 예외 처리가 강제되지 않으므로, 필요에 따라 선택적으로 서언할 수 있다.
----------------------------
#### throws 키워드의 기본 문법
```java
public 반환타입 메서드명(매개변수) throws 예외1, 예외2 {
    // 예외 발생 가능 코드
}
```
---------------

## finally 블록
```finally```블록은 Java에서 예외 처리와 관련된 구조 중 하나로, 예외 발생 여부와 상관없이 항상 실행되는 코드를 작성할 수 있도록 한다.<br>
이는 예외가 발생하더라도 반드시 실행해야 하는 **자원 정리 백업, 상대복원** 등의 코드를 포함하기 위해 사용된다<br>
finally블록은 try블록과 catch블록과 함께 사용되며, 예외 처리의 마지막 단계에서 프로그램의 안정성을 보장하는 데 중요한 역할을 한다.

#### finally 블록의 기본 기능
+ 항상 실행
  + finally블록은 try블록 내에서 예외가 발생하거나 발생하지 않더라도 반드시 실행된다.
  + catch블록이 실행되더라도 finally블록은 마지막에 실행된다.
  + 예외가 처리되지 않고 호출 스택을 통해 전파되는 경우에도 finally블록은 실행된다.
+ 자원 정리
  + 외부 자원(파일, 네트워크 연결, 데이터베이스 등)을 사용한 후 반드시 해제해야 하는 작업을 수행한다.
  + 예를 들어, 열려 있는 파일을 닫거나, 네트워크 소켓을 종료하거나, 데이터베이스 연결을 반환하는 작업 등이 포함된다.
+ 예외 전파와의 관계
  + 예외가 발생하고 catch블록에서 처리되지 않고 호출 스택을 통해 전파되는 경우에도 finally블록은 실행된다.
  + 이를 통해 예외가 처리되지 않은 경우에도 필요한 정리 작업이 보장된다.
+ 상태 복원
  + 프로그램의 실행 상태를 원래대로 복구하거나 안정적인 상태로 되돌리는 작업을 수행한다.


#### finally 블록의 기본 문법
finally블록은 try와catch블록과 함께 사용된다.<br>
try와 finally는 단독으로 사용할 수없으며, 반드시 한 쌍 이상으로 작성해야 한다.
```java
try {
    // 예외 발생 가능 코드
} catch (Exception e) {
    // 예외 처리 코드
} finally {
    // 항상 실행되는 코드
}
```
------------------------
## 예외 처리의 중요성
Java에서는 예외 처리는 단순히 프로그램의 오류를 방지하는 것 이상의 의미를 가진다. 잘 설계된 예외 처리는 프로그램의 안정성과 신뢰성을 높이고, 사용자와 개발자 모두에게 긍정적인 경험을 제공한다. 예외 처리의 중요성은 다음과 같은 측면에서 강조된다.

#### 1. 안정성 향상
안정성은 프로그램의 핵심 요소 중 하나이다. 예외 처리는 프로그램이 예상치 못한 상황에서도 정상적으로 동작하도록 만들어 준다.<br>
이를 통해 프로그램 충동을 방지하고, 시스템 전체의 신뢰성을 유지할 수 있다.<br>

**예외 처리로 인한 안정성 보장**

네트워크 연결 실패, 데이터베이스 연결 문제, 파일 입출력 오류와 같은 외부 환경 요인으로 인해 발생하는 예외를 안전하게 처리할 수 있다.<br>
예외 발생 시 적절히 처리하지 않으면 프로그램이 비정상적으로 종료되거나, 데이터가 손상될 위험이 있다.

**실제 사례**

사용자 입력 오류를 처리하여 잘못된 데이터를 처리하는 것을 방지<br>
서버와의 네트워크 연결이 실패하더라도, 사용자에게 적절한 메시지를 제공하고 프로그램이 중단되지 않도록 보장

**핵심 요점**

예상하지 못한 상황에서 예외 처리느 안전망 역할을 한다.<br>
중요한 데이터 손실 및 프로그램 충동을 방지하여, 시스템이 계속해서 정상 동작하도록 만든다.

---------------------
## 2. 가독성 및 유지보수성
잘 작성된 예외 처리는 코드의 **가독성과 유지보수성**을 크게 향상시킨다.

**가독성**

예외 처리를 명시적으로 코드에 포함하면, 개발자는 코드가 특정 상황에서 어떻게 동작하는지 한눈에 파악할 수 있다.<br>
예외가 발생할 수 있는 부분과 처리 방식을 명확히 구분함으로써, 코드의 의도와 목적을 명확히 전달할 수 있다.

**유지보수성**

예외 처리 코드는 문제 발생 시 디버깅과 수정 작업을 단순화한다.<br>
예외가 발생한 위치와 처리 방식을 분리하여, 새로운 기능을 추가하거나 변경할 때 영향 범위를 줄인다.

**핵심 요점**

명확한 예외 처리는 코드의 가독성을 높이고, 복잡한 오류 상황에서도 수정 작업을 단순화한다.<br>
예외가 발생할 가능성을 에측하고 처리하는 코드는, 팀 프로젝트에서 특히 중요한 유지보수성을 제공한다.

-------------------------
## 문제 원인 파악 용이
Java의 예외 처리 메커니즘은 문제의 원인을 파악하는 데 중요한 **스택 트레이스(Stack Trace)** 정보를 제공한다.

**스택 트레이스란**

예외가 발생한 순간의 메서드 호출 순서와 예외가 발생한 정확한 위치를 보여주는 정보<br>
스택 트레이스를 분석하면, 오류가 발생한 파일,클래스,메서드,라인 번호까지 추적할 수 있다.

**문제 원인 분석 도구**

```getMessage()``` : 예외와 관련된 간단한 메시지를 반환<br>
```printStackTrace()``` : 예외 발생 위치와 호출 스택의 전체 정보를 출력

**디버깅 효율성**

스택 트레이스는 개발자가 문제를 신속하게 파악하고 해결할 수 있도록 돕는다.<br>
특히, 예외가 중첩된 경우 원인 예외(Cause Exception)을 통해 문제의 근본 원인을 찾아낼 수 있다.

**핵심 요점**

예외 처리와 함께 제공되는 스택 트레이스는 디버깅의 강력한 도구이다.<br>
문제의 발생 위치와 원인을 구체적으로 보여주어, 문제 해결 시간을 단축시킨다.

-----------------
## 사용자 경험 개선
예외 처리는 사용자에게 적절한 피드백을 제공하여, 더나은 사용자 경험(User Experience, UX)를 제공한다.

**사용자 친화적인 메시지 제공**

복잡한 예외 정보를 그대로 사용자에게 노출하지 않고, 이해하기 쉬운 메시지를 제공<br>
예:"파일을 찾을 수 없습니다", "네트워크 연결이 끊어졌습니다"

**안정적인 인터페이스**

프로그램이 중단되지 않고, 예외 발생 시에도 대체 동작을 수행하거나 안내 메시지를 통해 사용자와 소통<br>
사용자 입력 오류의 경우, 다시 입력을 유도하거나 적절한 힌트를 제공

**서비스 신뢰성 향상**

예외가 발생해도 프로그램이 정상적으로 동작하도록 설계하면, 사용자는 서비스의 신뢰성을 느끼게 된다.<br>
예:온라인 쇼핑몰에서 네트워크 장애로 결제가 실패되어도, 사용자가 재시도할 수 있는 옵션 제공

**핵심 요점**

예외 처리는 사용자와의 상호작용에서 **신뢰와 안정성을 높이는 역할**을 한다.<br>
적절한 오류 메세지와 안내를 통해, 사용자는 프로그램이 문제 상황에서도 제어되고 있음을 느끼게 된다.
